@startuml Org_Screen_Flow
title Luồng Màn Hình Module Tổ chức (Org)
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Inter
skinparam Shadowing false
skinparam ArrowThickness 1
skinparam activity {
  Padding 8
  FontSize 12
  BackgroundColor #F9FBFF
  BorderColor #1E3C72
}
skinparam wrapWidth 320
skinparam maxMessageSize 220

start
:Người dùng mở module Org (/org hoặc /org/dashboard);

if (Đã đăng nhập?) then (Có)
  :Render OrgLayout\n(AppBar + OrgSidebar + Nội dung);
else (Không)
  :Chuyển hướng /auth/signin;
  stop
endif

:Từ Dashboard, chọn nghiệp vụ trên Sidebar;

group Dashboard
  :/org/dashboard;
  :Xem KPI đơn vị, cảnh báo, lối tắt tạo mới;
end group

group Cây tổ chức
  :/org/tree (Tree view);
  :/org/diagram (Sơ đồ hình học);
end group

group Quản lý đơn vị
  :/org/unit (Danh sách đơn vị);
  if (Chọn đơn vị?) then (Có)
    :/org/unit/{id} (Tabs Thông tin | Nhân sự | Báo cáo);
  else (Tạo mới)
    :/org/unit/create (Bước Draft → Review → Approve → Activate);
    :/org/unit/create/audit (Theo dõi lịch sử tạo);
  endif
  :/org/unit-relations (Thiết lập quan hệ);
  :/org/unit/review (Trung tâm phê duyệt đơn vị);
  :/org/type (Loại đơn vị) & /org/status (Trạng thái);
end group

group Phân công & Báo cáo
  :/org/assignments (Phân công nhân sự);
  :/org/reports (Báo cáo cấu trúc, năng lực);
end group

:Quay lại Dashboard hoặc chọn nghiệp vụ khác qua Sidebar/AppBar;
stop
@enduml

