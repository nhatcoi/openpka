@startuml HR_Screen_Flow
title Luồng Màn Hình Module HR
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Inter
skinparam Shadowing false
skinparam ArrowThickness 1
skinparam activity {
  Padding 8
  FontSize 12
  BackgroundColor #F6FAFF
  BorderColor #0F4C81
}
skinparam wrapWidth 220
skinparam maxMessageSize 170

start
:Người dùng truy cập /hr (hoặc route con);
if (Đã đăng nhập?) then (Có)
  :Render HrLayout\n(AppBar + NewSidebar + Main content);
else (Không)
  :Chuyển /auth/signin;
  stop
endif

:Dashboard /hr/dashboard – xem tổng quan nhân sự, KPI, cảnh báo;
:Chọn nghiệp vụ từ sidebar;

split
  group Quản lý nhân sự
    :/hr/employees (Danh sách);
    if (Thao tác?) then (Chi tiết)
    :/hr/employees/{id} (Profile tabs);
      :/hr/employees/{id}/edit;
    else (Tuyển mới)
      :/hr/employees/new;
    endif
    :/hr/employments;
  end group
split again
  group Cây & cơ cấu
    :/hr/org-tree (Sơ đồ cây);
    :/hr/org-tree/{id};
    :/hr/org-tree/{id}/employees;
    :/hr/org-structure;
    :/hr/university-overview;
  end group
end split

split
  group Đào tạo & năng lực
    :/hr/trainings;
    :/hr/employee-trainings;
    :/hr/qualifications / /hr/employee-qualifications;
    :/hr/academic-titles / /hr/employee-academic-titles;
  end group
split again
  group Đánh giá & hiệu suất
    :/hr/performance-reviews;
    :/hr/evaluation-periods;
    :/hr/my-evaluations;
    :/hr/evaluation-demo;
  end group
end split

split
  group Nghỉ phép & thay đổi
    :/hr/leave-requests;
    :/hr/leave-requests/history;
    :/hr/employee-changes/history;
    :/hr/employee-logs;
  end group
split again
  group Phân quyền & bảo mật
    :/hr/roles;
    :/hr/permissions;
    :/hr/role-permissions;
    :/hr/user-roles;
    :/hr/assignments;
    :/hr/change-password;
  end group
end split

group Báo cáo & hồ sơ cá nhân
  :/hr/reports;
  :/hr/faculty;
  :/hr/profile;
end group

:Quay lại Dashboard hoặc tiếp tục qua Sidebar;
stop
@enduml

